{% extends 'base.html.twig' %}

{% block title %}Manage Books{% endblock %}

{% block body %}
    <div class="container">
        <h1 class="display-4 my-4">Manage Books</h1>
        {% for flash in app.flashes('success') %}
            <div data-controller="flash" class="alert alert-success fade show">
                {{ flash }}
            </div>
        {% endfor %}
        <a class="btn btn-primary" href="{{ path('app_add_book') }}">Add Book</a>

        <div class="my-4" data-controller="view-books" data-view-books-url="{{ path('app_manage_books_data') }}">
            <table id="booksTable" class="table table-bordered my-4" >
                <thead>
                <tr>
                    <th>Title</th>
                    <th>Author</th>
                    <th>Available</th>
                    <th>Actions</th>
                </tr>
                </thead>
{#                <tbody>#}
{#                {% for book in books %}#}
{#                    <tr>#}
{#                        <td>{{ book.title }}</td>#}
{#                        <td>{{ book.author }}</td>#}
{#                        <td>{{ book.isAvailable ? 'Yes' : 'No' }}</td>#}
{#                        <td>#}
{#                            <a href="#" class="btn btn-sm btn-success">Edit</a>#}

{#    #}{#                        <form method="post" action="{{ path('app_delete_book', {'id': book.id}) }}" style="display:inline-block;" onsubmit="return confirm('Are you sure you want to delete this book?');">#}
{#    #}{#                            <input type="hidden" name="_token" value="{{ csrf_token('delete-book-' ~ book.id) }}">#}
{#    #}{#                            <button class="btn btn-sm btn-danger" type="submit">Delete</button>#}
{#    #}{#                        </form>#}
{#                        </td>#}
{#                    </tr>#}
{#                {% else %}#}
{#                    <tr><td colspan="4">No books found.</td></tr>#}
{#                {% endfor %}#}
{#                </tbody>#}
            </table>
        </div>
    </div>



{% endblock %}